<!DOCTYPE html><meta charset="utf-8"><html lang="en"><head><title>Block 2</title></head></html><body><div class="container"><header><h1>Software Engineering &mdash; Lab 2</h1></header><div class="preamble"><p>In this block we'll focus on <em>testing</em> (mostly <a href="http://en.wikipedia.org/wiki/Unit_testing">unit testing</a>) and <em>refactoring</em>. In essance, unit testing is the art testing individual methods in isolation. Testing in a broader sense mostly refer to the art of <a href="http://en.wikipedia.org/wiki/Software_verification_and_validation">verification</a>. Remember to never hand in before all tests are passing. Be weary of <a href="https://en.wikipedia.org/wiki/False_positives_and_false_negatives">false positives and false negatives</a>.</p></div><h2>Seminar hand in</h2><p>Write sufficient unit and integration tests for the Phone Book project you constructed in Block 1. Feel free to refactor your Phone Book solution if you find it difficult to test. Make sure your unit tests are fully isolated and that your integration tests are actually integrating. Strive for high code coverage. If you have fewer than 10 tests you are (most likely) doing it wrong.</p><h2>Exercises</h2><h3><a class="hideable" data-target="e1">1.1  Introduction to testing</a></h3><div id="e1"><p>In this exercise we're going to familiarize ourselves with the concept of unit testing.</p><ol><li>Create a new Visual Studio Solution.</li><li>Add a new <code>Class Library</code> project, and name it <code>MathLibrary</code>.</li><li>Add a new <code>Unit Test Project</code> and name it <code>MathLibraryTests</code></li><li>Add the contents of the scaffold below.<ul class="no-bullet"><li><i class="fa fa-file-code-o"> <code><a href="../code/block2/MathLibrary/MathLibrary/MathLib.cs">MathLib.cs</a></code></i></li></ul></li><li>Create a new class in your <code>MathLibraryTests</code> project. Name it <code>MathLibTests</code>.</li><li>Create a (or rename the default) class in your test project and name it <code>MathLibTests.cs</code></li><li>Add the contents of the scaffold below.<ul class="no-bullet"><li><i class="fa fa-file-code-o"> <code><a href="../code/block2/MathLibrary/TestProject/MathLibraryTests.cs">MathLibTests.cs</a></code></i></li></ul></li><li>Add a reference (via <code>Solution Explorer</code>) to the <code>MathLibrary</code> project in the <code>MathLibraryTests</code> project. We do this because the test project is going to test classes in the <code>MathLibrary</code> project, and thus need access to the classes.</li></ol><p><code>MathLib</code> contains a number of public static functions that perform math related operations. Not all methods are implemented. You must complete these implementations.</p><p><code>MathLibTests</code> contains a number of unit tests that aim to verify the functionality of all public methods in the <code>MathLib</code> class. Not all tests are implemented. You must complete these implementations.</p><p>You decide whether you wish to write each test before each implementation or vice versa. Do not add or remove any methods.</p></div><h3><a class="hideable" data-target="e2">1.2  Refactoring</a></h3><div id="e2"><p>The purpose of this exercise is to practice the art of refactoring in controlled steps. Using tests to ensure correctnessa at each change. This exercise is designed by <a href="http://en.wikipedia.org/wiki/Martin_Fowler">Martin Fowler</a>, the author of the book <a href="http://martinfowler.com/books/refactoring.html">Refactoring</a>.</p><ol><li>Create a new Console Application and introduce the code of the following classes into your project.<ul class="no-bullet"><li><i class="fa fa-file-code-o"> <code><a href="../code/block2/MovieRentalRefactoring/MovieRentalBefore/Customer.cs">Customer.cs</a></code></i></li><li><i class="fa fa-file-code-o"> <code><a href="../code/block2/MovieRentalRefactoring/MovieRentalBefore/DVD.cs">DVD.cs</a></code></i></li><li><i class="fa fa-file-code-o"> <code><a href="../code/block2/MovieRentalRefactoring/MovieRentalBefore/DomainObject.cs">DomainObject.cs</a></code></i></li><li><i class="fa fa-file-code-o"> <code><a href="../code/block2/MovieRentalRefactoring/MovieRentalBefore/Movie.cs">Movie.cs</a></code></i></li><li><i class="fa fa-file-code-o"> <code><a href="../code/block2/MovieRentalRefactoring/MovieRentalBefore/Rental.cs">Rental.cs</a></code></i></li><li><i class="fa fa-file-code-o"> <code><a href="../code/block2/MovieRentalRefactoring/MovieRentalBefore/Program.cs">Program.cs</a></code></i></li></ul></li><li>Introduce the following integration tests to your project. Run the integration tests. One should pass and one should fail. The one that fails is commented out. Ensure that the test does indeed fail if you remove the comments before moving further.<ul class="no-bullet"><li><i class="fa fa-file-code-o"> <code><a href="../code/block2/MovieRentalRefactoring/MovieRentalTests/CustomerIntegrationTests.cs">CustomerIntegrationTests.cs</a></code></i></li></ul></li><li>Follow the instructions given in the 1st chapter of <ul class="no-bullet"><li><i class="fa fa-file-text-o"> <code><a href="https://books.google.se/books?id=HmrDHwgkbPsC&amp;printsec=frontcover&amp;dq=refactoring+martin+fowler&amp;hl=sv&amp;sa=X&amp;redir_esc=y#v=onepage&amp;q=refactoring%20martin%20fowler&amp;f=false">Refactoring, by Martin Fowler</a></code></i></li></ul>The 1st chapter should be available on Google Books, but if not, then there's another version available <a href="http://www.cs.unc.edu/~stotts/723/refactor/chap1.html">here</a>.</li></ol><p>Note that one of the integration tests (in the file <code>CustomerIntegrationTests.cs</code>) is commented out. This test corresponds to the expected output of the functionality (i.e. the HTML statement) that the above document suggests you should be able to implement quite easily after refactoring.</p></div><h3><a class="hideable" data-target="e3">2.3  Debugging via Tests</a></h3><div id="e3"><p>The purpose of this exercise is to use tests as a means of locating and fixing bugs. Matrix multiplication is not trivial. The person who built the class below thus failed. Your job is to use tests to locate and fix all bugs.</p><ol><li>Create a new Class Library project in Visual Studio.</li><li>Download the class containing bugs, and add the code to your project.<ul class="no-bullet"><li><i class="fa fa-file-code-o"> <code><a href="../code/block2/MatrixUtils/MatrixUtils/Matrix.cs">Matrix.cs</a></code></i></li></ul></li><li>Create a Test Project in the same Solution.</li><li>Create and run tests one by one in order to locate any bugs. Test all public methods.</li><li>Fix the bugs either when you've written all tests or when you've encountered them.</li></ol></div><h3><a class="hideable" data-target="e4">2.4  Testing To Drive Design</a></h3><div id="e4"><figure class="figure-right"><a href="http://en.wikipedia.org/wiki/Test-driven_development#/media/File:Test-driven_development.PNG"><img class="img-md" src="http://upload.wikimedia.org/wikipedia/commons/9/9c/Test-driven_development.PNG"></a><span><a href="http://en.wikipedia.org/wiki/Test-driven_development">Wikipedia on Test Driven Development</a></span></figure><p>The purpose of this exercise is to explore the concept of letting tests drive implementation design. Your task is to implement a solution to the classic FizzBuzz problem.  You are expected to employ test driven development and thus let your tests guide your implementation design.</p><p>The specification for the FizzBuzz problem is as follows.<ol><li>Any number divisible by 3 is a "Fizz".</li><li>Any number divisible by 5 is a "Buzz".</li><li>Any number divisible by 3 and 5 is a "FizzBuzz".</li><li>Any number neither divisible by 3 nor 5 simply remain itself.</li><li>Your implementation of FizzBuzz must somehow allow easy "counting".<br><code>"1 2 Fizz 4 Buzz Fizz 7 8 Fizz Buzz 11 Fizz 13 14 FizzBuzz"</code></li></ol></p></div></div><link rel="stylesheet" href="/software-engineering-labs/vt17/assets/css/main.css"><link rel="stylesheet" href="/software-engineering-labs/vt17/assets/css/prism.css"><link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css"><script src="/software-engineering-labs/vt17/assets/js/prism.js"></script><script src="http://code.jquery.com/jquery-2.1.3.min.js"></script><script src="/software-engineering-labs/vt17/assets/js/main.js"></script></body>